<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane style="-fx-background-color: -secondary-color;" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="airlinemanagementsystem.user.WalletController">
    <top>
        <Label styleClass="header-label" text="My E-Wallet" BorderPane.alignment="CENTER_LEFT">
            <padding>
                <Insets bottom="20.0" left="40.0" top="20.0" />
            </padding>
        </Label>
    </top>
    
    <center>
        <HBox alignment="CENTER" spacing="40.0">
            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>
            
            <!-- Left Side: Balance & Add Money -->
            <VBox spacing="20.0" alignment="TOP_CENTER" minWidth="350.0">
                
                <!-- Balance Card -->
                <VBox alignment="CENTER" spacing="10.0" style="-fx-background-color: linear-gradient(to right, #4facfe, #00f2fe); -fx-background-radius: 15; -fx-padding: 30;">
                    <Label text="Current Balance" style="-fx-text-fill: white; -fx-font-size: 16px;" />
                    <Label fx:id="lblBalance" text="Rs. 0.00" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;" />
                </VBox>
                
                <!-- Add Money -->
                <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">
                    <Label text="Load Wallet (Credit/Debit Card)" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                    
                    <TextField fx:id="tfCardNumber" promptText="Card Number (16 digits)" />
                    <HBox spacing="10.0">
                         <TextField fx:id="tfExpiry" promptText="Expiry (MM/YY)" prefWidth="150" />
                         <TextField fx:id="tfCVV" promptText="CVV" prefWidth="100" />
                    </HBox>
                    <TextField fx:id="tfAmount" promptText="Amount (PKR)" />
                    
                    <Button onAction="#handleAddMoney" text="Load Funds" styleClass="button, button-accent" maxWidth="Infinity" />
                </VBox>
                
                 <Button onAction="#handleBack" styleClass="button" style="-fx-background-color: gray;" text="Back to Dashboard" maxWidth="Infinity" />
            </VBox>
            
            <!-- Right Side: History -->
            <VBox spacing="10.0" HBox.hgrow="ALWAYS">
                <Label text="Transaction History" style="-fx-font-size: 18px; -fx-font-weight: bold;" />
                <TableView fx:id="historyTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colDate" text="Date/Time" prefWidth="150" />
                        <TableColumn fx:id="colDesc" text="Description" prefWidth="250" />
                        <TableColumn fx:id="colAmount" text="Amount" prefWidth="100" />
                        <TableColumn fx:id="colType" text="Type" prefWidth="80" />
                    </columns>
                </TableView>
            </VBox>
            
        </HBox>
    </center>
</BorderPane>
